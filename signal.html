<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CandleLogic AI â€“ Signal Generator</title>
  <style>
    body {
      background-color: #0e0e1a;
      font-family: 'Segoe UI', sans-serif;
      color: #fff;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #00ffe1;
    }
    .form-section {
      max-width: 600px;
      margin: auto;
      background: #1c1c2e;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0,255,255,0.1);
    }
    .form-group {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
      justify-content: space-between;
    }
    .form-group label {
      flex: 1;
    }
    .form-group select {
      flex: 1;
      padding: 5px;
      border-radius: 6px;
      border: none;
    }
    .candle-box {
      display: flex;
      gap: 10px;
      margin: 10px 0;
      flex-wrap: wrap;
    }
    .candle-box select {
      width: 48%;
      padding: 5px;
    }

    .output-box {
      margin-top: 30px;
      background: #1a1f2e;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,255,255,0.1);
    }
    .output-line {
      margin-bottom: 10px;
      font-size: 16px;
    }
    .output-line span {
      font-weight: bold;
      color: #00ffe1;
    }
    .valid {
      color: #4caf50;
    }
    .invalid {
      color: #f44336;
    }
    .copy-btn {
      margin-top: 10px;
      background: #00ffe1;
      color: #000;
      padding: 8px 12px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
    }
    .copy-btn:hover {
      background: #00cfc4;
    }
  </style>
</head>
<body>
  <h1>CandleLogic AI â€“ Signal Generator</h1>

  <div class="form-section">
    <div class="form-group">
      <label for="market">Market Type</label>
      <select id="market">
        <option>Real</option>
        <option>OTC</option>
      </select>
    </div>
    <div class="form-group">
      <label for="timezone">Timezone</label>
      <select id="timezone">
        <option>Asia/Dhaka</option>
        <option>Asia/Kolkata</option>
        <option>UTC</option>
        <!-- Add others as needed -->
      </select>
    </div>
    <div class="form-group">
      <label for="runningCandle">Running Candle</label>
      <select id="runningCandle">
        <option value="Green">Green</option>
        <option value="Red">Red</option>
      </select>
    </div>

    <div class="candle-box">
      <select class="candle-input">
        <option value="Green">ğŸŸ¢ Green</option>
        <option value="Red">ğŸ”´ Red</option>
      </select>
      <select class="candle-input">
        <option value="Green">ğŸŸ¢ Green</option>
        <option value="Red">ğŸ”´ Red</option>
      </select>
      <select class="candle-input">
        <option value="Green">ğŸŸ¢ Green</option>
        <option value="Red">ğŸ”´ Red</option>
      </select>
      <select class="candle-input">
        <option value="Green">ğŸŸ¢ Green</option>
        <option value="Red">ğŸ”´ Red</option>
      </select>
      <select class="candle-input">
        <option value="Green">ğŸŸ¢ Green</option>
        <option value="Red">ğŸ”´ Red</option>
      </select>
    </div>

    <button onclick="generateSignal()">Generate Signal</button>

    <div id="output" class="output-box" style="display:none;"></div>
  </div>

  <script>
    function generateSignal() {
      const candles = [...document.querySelectorAll('.candle-input')].map(s => s.value);
      const running = document.getElementById('runningCandle').value;
      const greenCount = candles.filter(c => c === 'Green').length;
      const redCount = candles.filter(c => c === 'Red').length;

      const lastCandle = candles[4];
      const signal = greenCount > redCount ? 'â¬† CALL' : greenCount < redCount ? 'â¬‡ PUT' : 'WAIT';
      const isValid = lastCandle !== running;

      const now = new Date();
      const signalTime = now.toTimeString().slice(0, 5); // hh:mm
      const ruleMatch = lastCandle !== running;

      let html = `
        <div class="output-line">ğŸ“¡ <span>Signal Type:</span> ${signal}</div>
        <div class="output-line">â¡ï¸ <span>Next Candle Time:</span> ${signalTime}</div>
        <div class="output-line">ğŸŸ¢ Green: ${greenCount} ğŸ”´ Red: ${redCount}</div>
        <div class="output-line">Running Candle: ${running === 'Green' ? 'ğŸŸ¢ GREEN' : 'ğŸ”´ RED'}</div>
        <div class="output-line">Status: <span class="${isValid ? 'valid' : 'invalid'}">${isValid ? 'âœ… VALID' : 'âŒ INVALID'}</span></div>
        <div class="output-line">${isValid ? 'âœ… Matches 1st Step MTG Rule' : 'âŒ Doesn\'t match Running Candle'}</div>
        <button class="copy-btn" onclick="copySignal()">ğŸ“‹ Copy Signal</button>
      `;

      document.getElementById('output').innerHTML = html;
      document.getElementById('output').style.display = 'block';
    }

    function copySignal() {
      const text = document.getElementById('output').innerText;
      navigator.clipboard.writeText(text).then(() => alert('Signal copied!'));
    }
  </script>
</body>
</html>
