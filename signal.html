<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CandleLogic AI – Signal</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #0b0f15;
      color: #fff;
      padding: 20px;
    }

    h2 {
      color: #00ffcc;
      text-align: center;
    }

    .section {
      background: #111722;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(0,255,200,0.1);
    }

    .section label {
      display: block;
      margin-bottom: 8px;
      color: #ccc;
    }

    select, button {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border-radius: 6px;
      border: none;
      background: #1c2530;
      color: #fff;
      font-size: 16px;
    }

    .candle-select {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .candle-select select {
      flex: 1 1 48%;
    }

    .output {
      background: #0f141c;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,255,200,0.15);
      margin-top: 20px;
    }

    .output .row {
      display: flex;
      justify-content: space-between;
      padding: 6px 0;
      border-bottom: 1px solid #1f2a38;
    }

    .output .label {
      font-weight: bold;
      color: #ccc;
    }

    .output .value {
      color: #00ffcc;
    }

    .output .status.valid { color: #00ff88; }
    .output .status.invalid { color: #ff4c4c; }

    .copy-btn {
      margin-top: 15px;
      padding: 10px;
      background: #00ffcc;
      color: #000;
      border: none;
      border-radius: 5px;
      width: 100%;
      cursor: pointer;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <h2>CandleLogic AI – Signal Generator</h2>

  <div class="section">
    <label>Market</label>
    <select id="market">
      <option>Binary</option>
      <option>OTC</option>
      <option>Real</option>
    </select>

    <label>Timezone</label>
    <select id="timezone">
      <option value="+0600">GMT+6 (BD Time)</option>
      <option value="+0530">GMT+5:30 (India)</option>
      <option value="+0000">GMT (UTC)</option>
    </select>

    <label>Pair</label>
    <select id="pair">
      <option>EUR/USD</option>
      <option>GBP/JPY</option>
      <option>USD/JPY</option>
      <option>AUD/CHF</option>
      <!-- Add all pairs here -->
    </select>
  </div>

  <div class="section">
    <label>Last 5 Candles</label>
    <div class="candle-select">
      <select id="c1">
        <option value="">Select</option>
        <option value="green">🟢 Green</option>
        <option value="red">🔴 Red</option>
      </select>
      <select id="c2">
        <option value="">Select</option>
        <option value="green">🟢 Green</option>
        <option value="red">🔴 Red</option>
      </select>
      <select id="c3">
        <option value="">Select</option>
        <option value="green">🟢 Green</option>
        <option value="red">🔴 Red</option>
      </select>
      <select id="c4">
        <option value="">Select</option>
        <option value="green">🟢 Green</option>
        <option value="red">🔴 Red</option>
      </select>
      <select id="c5">
        <option value="">Select</option>
        <option value="green">🟢 Green</option>
        <option value="red">🔴 Red</option>
      </select>
    </div>

    <label>Running Candle</label>
    <select id="running">
      <option value="">Select</option>
      <option value="green">🟢 Green</option>
      <option value="red">🔴 Red</option>
    </select>

    <button onclick="generateSignal()">Generate Signal</button>
  </div>

  <div class="output" id="signalOutput" style="display:none;">
    <div class="row"><span class="label">Signal</span><span class="value" id="signalType">⬆ CALL</span></div>
    <div class="row"><span class="label">Signal Time</span><span class="value" id="signalTime">14:22</span></div>
    <div class="row"><span class="label">Next Candle</span><span class="value" id="nextCandle">14:23</span></div>
    <div class="row"><span class="label">Status</span><span class="value status" id="signalStatus">✅ VALID</span></div>
    <button class="copy-btn" onclick="copySignal()">📋 Copy Signal</button>
  </div>

  <script>
    function generateSignal() {
      const c1 = document.getElementById("c1").value;
      const c2 = document.getElementById("c2").value;
      const c3 = document.getElementById("c3").value;
      const c4 = document.getElementById("c4").value;
      const c5 = document.getElementById("c5").value;
      const running = document.getElementById("running").value;

      const output = document.getElementById("signalOutput");
      const signalType = document.getElementById("signalType");
      const signalStatus = document.getElementById("signalStatus");

      if (!c1 || !c2 || !c3 || !c4 || !c5 || !running) {
        alert("Please select all candles and running candle.");
        return;
      }

      // Count colors
      const candles = [c1, c2, c3, c4, c5];
      const greenCount = candles.filter(c => c === 'green').length;
      const redCount = candles.filter(c => c === 'red').length;

      // Determine signal
      let signal = "WAIT";
      if (greenCount > redCount) signal = "⬇ PUT";
      else if (redCount > greenCount) signal = "⬆ CALL";

      // Check invalid condition (5th == running)
      let valid = c5 !== running;

      // Time
      const now = new Date();
      const hh = now.getHours().toString().padStart(2,'0');
      const mm = now.getMinutes().toString().padStart(2,'0');
      const signalTime = `${hh}:${mm}`;
      const nextMin = (now.getMinutes() + 1) % 60;
      const nextTime = `${hh}:${nextMin.toString().padStart(2,'0')}`;

      signalType.textContent = signal;
      document.getElementById("signalTime").textContent = signalTime;
      document.getElementById("nextCandle").textContent = nextTime;

      if (valid && signal !== "WAIT") {
        signalStatus.textContent = "✅ VALID";
        signalStatus.className = "value status valid";
      } else {
        signalStatus.textContent = "❌ INVALID";
        signalStatus.className = "value status invalid";
      }

      output.style.display = "block";
    }

    function copySignal() {
      const text = document.getElementById("signalType").textContent + " | Time: " + document.getElementById("signalTime").textContent;
      navigator.clipboard.writeText(text).then(() => alert("Copied!"));
    }
  </script>

</body>
</html>
