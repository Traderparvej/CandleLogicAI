<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CandleLogic AI – Signal Generator</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #0d1117;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 30px;
    }
    h1 {
      margin-bottom: 20px;
      font-size: 32px;
    }
    .box {
      background: #161b22;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 0 10px #0d1117;
      width: 90%;
      max-width: 450px;
    }
    label {
      display: block;
      margin-top: 15px;
      margin-bottom: 5px;
      font-weight: bold;
    }
    select {
      width: 100%;
      padding: 10px;
      background: #0d1117;
      border: 2px solid #444;
      border-radius: 6px;
      color: #fff;
      font-size: 16px;
    }
    select:focus {
      outline: none;
      border-color: #00ff99;
    }
    .button {
      background: #00ff99;
      color: #000;
      border: none;
      padding: 12px;
      border-radius: 8px;
      width: 100%;
      margin-top: 20px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
    }
    .output {
      margin-top: 20px;
      background: #20262e;
      padding: 20px;
      border-radius: 8px;
      border-left: 5px solid #00ff99;
    }
    .output p {
      margin: 5px 0;
      font-size: 16px;
    }
    .valid { color: #00ff99; }
    .invalid { color: #ff4444; }
    .copy-btn {
      margin-top: 10px;
      background: #00c0ff;
      color: #000;
      padding: 8px 12px;
      border-radius: 5px;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>CandleLogic AI</h1>
  <div class="box">
    <label>Market Type</label>
    <select id="market">
      <option value="">Select</option>
      <option>Real Market</option>
      <option>OTC Market</option>
    </select>

    <label>Trading Pair</label>
    <select id="pair">
      <option value="">Select</option>
      <option>EUR/USD</option>
      <option>GBP/USD</option>
      <option>USD/JPY</option>
      <option>BTC/USD</option>
      <option>ETH/USD</option>
      <option>OTC EUR/GBP</option>
      <option>OTC USD/JPY</option>
      <!-- Add more if needed -->
    </select>

    <label>Timezone</label>
    <select id="timezone">
      <option value="">Select</option>
      <option value="Asia/Dhaka">Asia/Dhaka (GMT+6)</option>
      <option value="Asia/Kolkata">Asia/Kolkata (GMT+5:30)</option>
      <option value="UTC">UTC</option>
      <option value="America/New_York">America/New_York</option>
      <option value="Europe/London">Europe/London</option>
    </select>

    <label>Candle 1</label>
    <select id="c1"><option>Red</option><option>Green</option></select>

    <label>Candle 2</label>
    <select id="c2"><option>Red</option><option>Green</option></select>

    <label>Candle 3</label>
    <select id="c3"><option>Red</option><option>Green</option></select>

    <label>Candle 4</label>
    <select id="c4"><option>Red</option><option>Green</option></select>

    <label>Candle 5</label>
    <select id="c5"><option>Red</option><option>Green</option></select>

    <label>Running Candle</label>
    <select id="running"><option>Red</option><option>Green</option></select>

    <button class="button" onclick="generateSignal()">Generate Signal</button>

    <div class="output" id="output" style="display:none;">
      <p><strong>Signal:</strong> <span id="signalText"></span></p>
      <p><strong>Time:</strong> <span id="time"></span></p>
      <p><strong>Status:</strong> <span id="statusText"></span></p>
      <button class="copy-btn" onclick="copySignal()">Copy Signal</button>
    </div>
  </div>

  <script>
    function generateSignal() {
      const c = [1,2,3,4,5].map(i => document.getElementById('c'+i).value);
      const running = document.getElementById('running').value;
      const market = document.getElementById('market').value;
      const pair = document.getElementById('pair').value;
      const timezone = document.getElementById('timezone').value;

      let reds = c.filter(x => x === 'Red').length;
      let greens = c.filter(x => x === 'Green').length;

      let signal = 'WAIT';
      if (reds >= 3) signal = 'CALL';
      if (greens >= 3) signal = 'PUT';

      // Confirm last candle not same as running
      let valid = c[4] !== running;

      const now = new Date();
      const time = now.toLocaleTimeString('en-GB', { hour: '2-digit', minute: '2-digit' });

      document.getElementById('signalText').innerText = signal;
      document.getElementById('statusText').innerText = valid ? 'VALID' : 'INVALID';
      document.getElementById('statusText').className = valid ? 'valid' : 'invalid';
      document.getElementById('time').innerText = time;

      document.getElementById('output').style.display = 'block';
    }

    function copySignal() {
      const signal = document.getElementById('signalText').innerText;
      const time = document.getElementById('time').innerText;
      const pair = document.getElementById('pair').value;
      const text = `🟢 Signal: ${signal}\n📌 Pair: ${pair}\n⏱ Time: ${time}`;
      navigator.clipboard.writeText(text).then(() => {
        alert('Signal copied to clipboard!');
      });
    }
  </script>
</body>
</html>
